import { r as resolveComponent, c as createElementBlock, a as createBaseVNode, b as createVNode, F as Fragment, e as createStaticVNode, d as createTextVNode, o as openBlock } from "./app.f1ef7422.js";
import { _ as _export_sfc } from "./plugin-vue_export-helper.5a098b48.js";
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h1 id="buildprops" tabindex="-1"><a class="header-anchor" href="#buildprops" aria-hidden="true">#</a> buildProps</h1><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> buildProps <span class="token operator">=</span> <span class="token operator">&lt;</span>\n  Props <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span>\n    <span class="token builtin">string</span><span class="token punctuation">,</span>\n    <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>epPropKey<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n    <span class="token operator">|</span> NativePropType\n    <span class="token operator">|</span> EpPropInput<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>\n  <span class="token operator">&gt;</span></span>\n<span class="token operator">&gt;</span><span class="token punctuation">(</span>\n  props<span class="token operator">:</span> Props\n<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> Props<span class="token punctuation">]</span><span class="token operator">:</span> IfEpProp<span class="token operator">&lt;</span>\n    Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    IfNativePropType<span class="token operator">&lt;</span>Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span> EpPropConvert<span class="token operator">&lt;</span>Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>\n  <span class="token operator">&gt;</span>\n<span class="token punctuation">}</span> <span class="token operator">=&gt;</span>\n  <span class="token function">fromPairs</span><span class="token punctuation">(</span>\n    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key<span class="token punctuation">,</span> option<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n      key<span class="token punctuation">,</span>\n      <span class="token function">buildProp</span><span class="token punctuation">(</span>option <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">any</span>\n</code></pre></div><h2 id="\u6CDB\u578B" tabindex="-1"><a class="header-anchor" href="#\u6CDB\u578B" aria-hidden="true">#</a> \u6CDB\u578B</h2><p>\u5148\u6765TS\u6CDB\u578B\u7684\u5E94\u7528</p><p>\u666E\u901A\u51FD\u6570\uFF1A</p><div class="language-javascript ext-js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">drinkMilk</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> \n<span class="token punctuation">}</span>\n</code></pre></div><p>\u52A0\u4E0A\u6CDB\u578B\uFF1A\u5728\u53C2\u6570\u524D\u52A0 <code>&lt;T&gt;</code></p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">drinkMilk</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>args<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span> \n<span class="token punctuation">}</span>\n</code></pre></div><p>\u5E26\u8FD4\u56DE\u503C\uFF1A\u5728\u53C2\u6570\u540E\u9762\u52A0 : T</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">drinkMilk</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>args<span class="token operator">:</span><span class="token constant">T</span><span class="token punctuation">)</span> \uFF1A<span class="token constant">T</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> args <span class="token punctuation">}</span>\n</code></pre></div><p>\u4F7F\u7528\u7BAD\u5934\u51FD\u6570 <code>=&gt;</code></p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">const</span> getMilk <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> args<span class="token punctuation">;</span> <span class="token punctuation">}</span>\n</code></pre></div><p>\u7ED9\u6CDB\u578B T \u52A0\u4E0A\u7EA6\u675F\u6761\u4EF6</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">interface</span> <span class="token class-name">WithLength</span> <span class="token punctuation">{</span> \n  length<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> \n<span class="token punctuation">}</span>\n<span class="token keyword">const</span> getMilk <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">WithLength</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>args<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>\n  <span class="token keyword">return</span> args<span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h2 id="\u5E26\u7EA6\u675F\u7684\u6CDB\u578B" tabindex="-1"><a class="header-anchor" href="#\u5E26\u7EA6\u675F\u7684\u6CDB\u578B" aria-hidden="true">#</a> \u5E26\u7EA6\u675F\u7684\u6CDB\u578B</h2><blockquote><p>\u77E5\u8BC6\u70B9\uFF1ARecord&lt;key, value&gt;</p></blockquote><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div><p>\u53D6 K \u4E2D\u7684\u6BCF\u4E00\u4E2A\u5C5E\u6027\uFF0C\u8BE5\u5C5E\u6027\u7684\u503C\u662F T \u7C7B\u578B\u3002</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">person</span> <span class="token operator">=</span> <span class="token string">&#39;man&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;woman&#39;</span>\n<span class="token keyword">interface</span> <span class="token class-name">Info</span> <span class="token punctuation">{</span>\n    name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>\n    age<span class="token operator">:</span> <span class="token builtin">number</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">type</span> <span class="token class-name">personInfo</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span>person<span class="token punctuation">,</span> Info<span class="token operator">&gt;</span>\n</code></pre></div><p>Record \u53EF\u4EE5\u628A\u8D85\u80FD\u529B\u8D4B\u4E88\u6BCF\u4E00\u4E2A\u4EBA\u3002\u77AC\u95F4\u5C31\u8BA9 man \u548C woman \u62E5\u6709\u4E86 name \u548C age \u5C5E\u6027\u3002</p><p>\u518D\u6765\u770B Element Plus \u6E90\u7801\u4E2D\u7684\u90E8\u5206</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">epValue</span> <span class="token operator">=</span> \n    <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>epPropKey<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>\n    <span class="token operator">|</span> NativePropType\n    <span class="token operator">|</span> EpPropInput<span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token punctuation">,</span> <span class="token builtin">any</span><span class="token operator">&gt;</span>\n    \nProps <span class="token keyword">extends</span> <span class="token class-name">Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> epValue<span class="token operator">&gt;</span></span>\n</code></pre></div><p><code>Props extends Record</code>\uFF0C\u8868\u793A Props \u5E94\u7B26\u5408\u540E\u9762 Record \u7684\u7EA6\u675F\uFF0C\u5373\uFF1A Props \u9700\u8981\u662F string \u7C7B\u578B\u7684 key\uFF0CepValue \u90A3\u4E09\u79CD\u7C7B\u578B\u7684 value</p><ul><li>{ [&#39;__epPropKey&#39;] : true }</li><li>NativePropType : \u539F\u751F prop \u7C7B\u578B</li><li>EpPropInput : Element Plus \u5B9A\u4E49\u7684 Prop \u8F93\u5165\u7C7B\u578B</li></ul><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">type</span> <span class="token class-name">EpPropInput</span> <span class="token operator">=</span> <span class="token punctuation">{</span>\n    type<span class="token operator">?</span><span class="token operator">:</span> StringConstructor <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n    required<span class="token operator">?</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n    values<span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">readonly</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n    validator<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> val <span class="token keyword">is</span> <span class="token builtin">never</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n    <span class="token keyword">default</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n</code></pre></div><p>\u901A\u8FC7\u5BF9\u6CDB\u578B Props \u7684\u7EA6\u675F\uFF0C\u7ED3\u5408\u53C2\u6570 props: Props\uFF0C\u8868\u793A\u51FA\uFF1A\u8BE5\u51FD\u6570\u7684\u5165\u53C2\uFF0C\u5FC5\u987B\u6EE1\u8DB3 props \u7684 key \u662F string \u7C7B\u578B\uFF0Cvalue \u662F\u4E0A\u8FF0\u7684 epValue \u7684\u4E09\u79CD\u8054\u5408\u7C7B\u578B\u4E4B\u4E00\u3002</p><h2 id="buildprops-\u8FD4\u56DE\u503C" tabindex="-1"><a class="header-anchor" href="#buildprops-\u8FD4\u56DE\u503C" aria-hidden="true">#</a> buildProps \u8FD4\u56DE\u503C</h2><p>\u901A\u8FC7\u82B1\u62EC\u53F7 {}\uFF0C\u5224\u65AD\u8FD4\u56DE\u503C\u5E94\u8BE5\u662F\u4E00\u4E2A object</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>\n  <span class="token punctuation">[</span><span class="token constant">K</span> <span class="token keyword">in</span> <span class="token keyword">keyof</span> Props<span class="token punctuation">]</span><span class="token operator">:</span> IfEpProp<span class="token operator">&lt;</span>\n    Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    IfNativePropType<span class="token operator">&lt;</span>Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">,</span> EpPropConvert<span class="token operator">&lt;</span>Props<span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>\n  <span class="token operator">&gt;</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>\u5176 key \u662F [K in keyof Props]\uFF0Cvalue \u901A\u8FC7 IfEpProp \u7684\u8FD4\u56DE\u3002</p><p>IfEpProp</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">IfEpProp<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token constant">N</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>epPropKey<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token operator">?</span> <span class="token constant">Y</span> <span class="token operator">:</span> <span class="token constant">N</span>\n</code></pre></div><p>IfNativePropType</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token doc-comment comment">/**\n * \u539F\u751F prop `\u7C7B\u578B\uFF0CBooleanConstructor`\u3001`StringConstructor`\u3001`null`\u3001`undefined` \u7B49\n */</span>\n<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">NativePropType</span> <span class="token operator">=</span>\n  <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span><span class="token punctuation">)</span>\n  <span class="token operator">|</span> <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">}</span>\n  <span class="token operator">|</span> <span class="token keyword">undefined</span>\n  <span class="token operator">|</span> <span class="token keyword">null</span>\n<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">IfNativePropType<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">Y</span><span class="token punctuation">,</span> <span class="token constant">N</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">]</span> <span class="token keyword">extends</span> <span class="token punctuation">[</span>NativePropType<span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token constant">Y</span> <span class="token operator">:</span> <span class="token constant">N</span>\n</code></pre></div><p>EpPropConvert</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token doc-comment comment">/**\n * \u5C06\u8F93\u5165\u8F6C\u6362\u4E3A\u8F93\u51FA\n */</span>\n<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">EpPropConvert<span class="token operator">&lt;</span>Input<span class="token operator">&gt;</span></span> <span class="token operator">=</span> Input <span class="token keyword">extends</span> <span class="token class-name">EpPropInput<span class="token operator">&lt;</span>\n  <span class="token keyword">infer</span> Type<span class="token punctuation">,</span>\n  <span class="token keyword">infer</span> Value<span class="token punctuation">,</span>\n  <span class="token keyword">infer</span> Validator<span class="token punctuation">,</span>\n  <span class="token builtin">any</span><span class="token punctuation">,</span>\n  <span class="token keyword">infer</span> Required\n<span class="token operator">&gt;</span></span>\n  <span class="token operator">?</span> EpPropFinalized<span class="token operator">&lt;</span>Type<span class="token punctuation">,</span> Value<span class="token punctuation">,</span> Validator<span class="token punctuation">,</span> Input<span class="token punctuation">[</span><span class="token string">&#39;default&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> Required<span class="token operator">&gt;</span>\n  <span class="token operator">:</span> <span class="token builtin">never</span>\n</code></pre></div><h3 id="k-in-keyof-props" tabindex="-1"><a class="header-anchor" href="#k-in-keyof-props" aria-hidden="true">#</a> [K in keyof Props]</h3><p>\u4E00\u4E2A\u4F8B\u5B50</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token function">getValue</span><span class="token punctuation">(</span>obj<span class="token operator">:</span> object<span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token comment">// error</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>\u6211\u4EEC\u4F1A\u5F97\u5230\u4E00\u6BB5\u62A5\u9519\uFF0C\u8FD9\u662F\u65B0\u624B TypeScript \u5F00\u53D1\u8005\u5E38\u5E38\u72AF\u7684\u9519\u8BEF\uFF0C\u7F16\u8BD1\u5668\u544A\u8BC9\u6211\u4EEC\uFF0C\u53C2\u6570 obj \u5B9E\u9645\u4E0A\u662F {},\u56E0\u6B64\u540E\u9762\u7684 key \u662F\u65E0\u6CD5\u5728\u4E0A\u9762\u53D6\u5230\u4EFB\u4F55\u503C\u7684\u3002</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValue</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token comment">// error</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>\u8FD9\u4F9D\u7136\u89E3\u51B3\u4E0D\u4E86\u95EE\u9898\u3002\u56E0\u4E3A\u6211\u4EEC\u7B2C\u4E8C\u4E2A\u53C2\u6570 key \u662F\u4E0D\u662F\u5B58\u5728\u4E8E obj \u4E0A\u662F\u65E0\u6CD5\u786E\u5B9A\u7684\uFF0C\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u5BF9\u8FD9\u4E2A key \u4E5F\u8FDB\u884C\u7EA6\u675F\uFF0C\u6211\u4EEC\u628A\u5B83\u7EA6\u675F\u4E3A\u53EA\u5B58\u5728\u4E8E obj \u5C5E\u6027\u7684\u7C7B\u578B\uFF0C\u8FD9\u4E2A\u65F6\u5019\u9700\u8981\u501F\u52A9\u5230\u7D22\u5F15\u7C7B\u578B\u8FDB\u884C\u5B9E\u73B0 <code>&lt;U extends keyof T&gt;</code></p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getValue</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> object<span class="token punctuation">,</span> <span class="token constant">U</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">U</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token comment">// ok</span>\n<span class="token punctuation">}</span>\n</code></pre></div><h3 id="\u503C\u5224\u65AD" tabindex="-1"><a class="header-anchor" href="#\u503C\u5224\u65AD" aria-hidden="true">#</a> \u503C\u5224\u65AD</h3><p>\u6E90\u7801\u4E2D\u901A\u8FC7 IfEpProp, IfNativePropType, EpPropConvert \u4E09\u90E8\u5206\uFF0C\u5BF9 <code>Props[K]</code> \u505A\u4E86\u5224\u65AD\u3001\u8F6C\u6362\u3002</p><ul><li>IfEpProp: \u5982\u679C\u662F EpProp \u7C7B\u578B\uFF0C\u5219\u76F4\u63A5\u8F93\u51FA</li><li>IfNativePropType: \u5982\u679C\u662F\u539F\u751FProp\u7C7B\u578B\uFF0C\u5219\u76F4\u63A5\u8F93\u51FA</li><li>EpPropConvert: \u8F6C\u6362\u6210 EpPropFinalized \u8F93\u51FA</li></ul><h2 id="buildprops-\u51FD\u6570\u5B9E\u9645\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#buildprops-\u51FD\u6570\u5B9E\u9645\u5185\u5BB9" aria-hidden="true">#</a> buildProps \u51FD\u6570\u5B9E\u9645\u5185\u5BB9</h2><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token function">fromPairs</span><span class="token punctuation">(</span>\n    Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key<span class="token punctuation">,</span> option<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n      key<span class="token punctuation">,</span>\n      <span class="token function">buildProp</span><span class="token punctuation">(</span>option <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">)</span>\n  <span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token builtin">any</span>\n</code></pre></div><p>\u5927\u81F4\u6D41\u7A0B\u5982\u4E0B:</p><ul><li>Object.entries \u5C06 props \u8F6C\u6362\u4E3A\u4E8C\u7EF4\u6570\u7EC4</li><li>\u5C06\u4E8C\u7EF4\u6570\u7EC4\u4EE5 key option \u7684\u5F62\u5F0F\u53D6\u51FA\uFF0C\u5B9E\u9645\u4E0A\u5C31\u662F\u62FF\u5230\u4E86 props \u4E2D\u7684\u53C2\u6570\u7684 key \u548C value</li><li>\u5C06 value \u901A\u8FC7 buildProp \u51FD\u6570\u5904\u7406\u4E00\u4E0B</li><li>fromPairs \u53C8\u5C06\u4E8C\u7EF4\u6570\u7EC4\u8F6C\u6362\u6210 object</li></ul><p>\u901A\u8FC7\u6E90\u7801\u4E2D\u6CE8\u91CA\u53EF\u4EE5\u77E5\u9053\uFF0CbuildProp \u662F\u4E3A\u4E86 \u201C\u751F\u6210 prop\uFF0C\u80FD\u66F4\u597D\u5730\u4F18\u5316\u7C7B\u578B\u201D\u3002\u6240\u4EE5\u6700\u7EC8\u7ED3\u8BBA\uFF0C\u5C31\u662F\u5BF9 props \u4E2D\u7684\u6240\u6709 value \u8FDB\u884C\u7C7B\u578B\u4F18\u5316\u3002</p><p>\u8FD9\u4E48\u8BF4\u6709\u70B9\u751F\u786C\u4E86\uFF0C\u4E3E\u4E2A\u4F8B\u5B50\uFF1A</p><p>\u6211\u4EEC\u7684 Props \u5982\u4E0B\uFF1A</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>\n  name<span class="token operator">:</span> <span class="token punctuation">{</span>\n    type<span class="token operator">:</span> String<span class="token punctuation">,</span>\n    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;sun&#39;</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  age<span class="token operator">:</span> <span class="token punctuation">{</span>\n    type<span class="token operator">:</span> Number<span class="token punctuation">,</span>\n    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>\u7ECF\u8FC7 Object.entries \u540E\uFF0C\u8F6C\u6362\u4E3A</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token punctuation">[</span>\n <span class="token punctuation">[</span><span class="token string">&#39;name&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>type<span class="token operator">:</span>String<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span><span class="token string">&#39;sun&#39;</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n <span class="token punctuation">[</span><span class="token string">&#39;age&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>type<span class="token operator">:</span>Number<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\n</code></pre></div><p>\u901A\u8FC7 map \u904D\u5386\uFF0Ckey \u662F &#39;name&#39;, option \u662F {type:String, defalut: &#39;sun&#39;} \uFF0C\u518D\u901A\u8FC7 buildProp \u51FD\u6570\u5C06\u5176\u8F6C\u5316\u4E3A EpPropFinalized \u7C7B\u578B</p><div class="language-typescript ext-ts"><pre class="language-typescript"><code><span class="token punctuation">{</span>\n    <span class="token number">0</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    <span class="token number">1</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;sun&quot;</span><span class="token punctuation">,</span>\n    required<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>\n    type<span class="token operator">:</span> String<span class="token punctuation">,</span>\n    validator<span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>\n    __epPropKey<span class="token operator">:</span> <span class="token boolean">true</span>\n<span class="token punctuation">}</span>\n</code></pre></div><p>\u904D\u5386\u7ED3\u675F\u540E\uFF0C\u901A\u8FC7 fromPairs \u8F6C\u56DE object\uFF0C\u6700\u7EC8\u8FD4\u56DE\u7ED3\u679C\u3002</p><h2 id="\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#\u5C0F\u7ED3" aria-hidden="true">#</a> \u5C0F\u7ED3</h2><p>Element Plus \u7684 buildProps \u65B9\u6CD5\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u5BF9 element \u7EC4\u4EF6\u5F00\u53D1\u8FC7\u7A0B\u4E2D\uFF0C\u5927\u5BB6\u7F16\u7801\u65F6\u7684 Props \u7684\u8BBE\u7F6E\uFF0C\u8FDB\u884C\u4E86\u7EDF\u4E00\u683C\u5F0F\u5316\uFF0C\u6216\u8005\u8BF4\u4F18\u5316\u7C7B\u578B\u3002</p>', 61);
const _hoisted_62 = {
  href: "https://juejin.cn/post/7138061136112386079",
  target: "_blank",
  rel: "noopener noreferrer"
};
const _hoisted_63 = /* @__PURE__ */ createTextVNode("https://juejin.cn/post/7138061136112386079");
function _sfc_render(_ctx, _cache) {
  const _component_OutboundLink = resolveComponent("OutboundLink");
  return openBlock(), createElementBlock(Fragment, null, [
    _hoisted_1,
    createBaseVNode("blockquote", null, [
      createBaseVNode("p", null, [
        createBaseVNode("a", _hoisted_62, [
          _hoisted_63,
          createVNode(_component_OutboundLink)
        ])
      ])
    ])
  ], 64);
}
var buildProps_html = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render]]);
export { buildProps_html as default };
